{% extends 'layout.html' %}


{% block content %}
    {{ super() }}
    <div id="templates">
        {% raw %}
            <template id=ltempl>
                <li id="listing-{{ id }}">
                    <a target="_blank" class="hide-overflow" href ="{{ url }}">
                        {{ title }}
                    </a>
                    <ul>
                        <li>
                            {{ price_currency }} {{ price }}
                        </li>
                    </ul>
                </li>
            </template>
        {% endraw %}
    </div>
    <div class="container u-full-width u-max-full-width u-full-height">
        <div class="row">
            <div class="eight columns">
                <label>Minimum bedrooms:
                    <select id="filter_bedrooms">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </label>
            </div>
            <div class="four columns">
                <label>Sort by
                    <button onclick="listview.sort('price')">Price</button>
                </label>
            </div>
        </div>
        <div class="row">
            <div class="eight columns" id="map">

            </div>
            <div class="four columns" >
                <ul id="listings">
                </ul>
            </div>
        </div>
    </div>

{% endblock %}
{% block script %}
    {{ super() }}
    <script src="{{url_for('static', filename='lib/wcstamp/src/stamp.js')}}"></script>
    <script type="text/javascript" charset="utf-8">
     var ctx = new Stamp.Context();
    </script>
    <script src="{{url_for('static', filename='js/util.js')}}"></script>
    <script src="{{url_for('static', filename='js/map.js')}}"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key={{gmaps_key}}&callback=initMap"
            async defer></script>
{% endblock %}
